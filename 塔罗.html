<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>YanJinå¡”ç½—æŠ½ç‰Œ</title>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
      background: linear-gradient(180deg, #1b1b2f, #162447);
      color: #fff;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }
    .container {
      text-align: center;
      max-width: 500px;
      width: 100%;
    }
    h1 {
      margin-bottom: 10px;
      font-size: 28px;
      letter-spacing: 2px;
      background: linear-gradient(90deg, #f5c07a, #e43f5a);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    .desc {
      font-size: 15px;
      opacity: 0.9;
      margin-bottom: 30px;
      line-height: 1.5;
    }
    .cards {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
      margin-bottom: 30px;
    }
    .card {
      aspect-ratio: 2 / 3;
      background: linear-gradient(135deg, #3a3a6a, #1f4068);
      border-radius: 14px;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
      transform-style: preserve-3d;
      transition: transform 0.6s, opacity 0.4s;
      border: 1px solid rgba(255, 255, 255, 0.1);
      perspective: 1000px;
    }
    .card:hover {
      transform: translateY(-8px) rotateY(5deg);
    }
    .card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      text-align: center;
      transition: transform 0.8s;
      transform-style: preserve-3d;
    }
    .card.flipped .card-inner {
      transform: rotateY(180deg);
    }
    .card-front, .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 15px;
      box-sizing: border-box;
      transition: filter 0.3s;
    }
    .card-front {
      background: linear-gradient(135deg, #3a3a6a, #1f4068);
      color: rgba(255, 255, 255, 0.9);
      font-size: 16px;
      font-weight: 500;
    }
    .card-back {
      background: linear-gradient(135deg, #f5c07a, #d18b47);
      color: #2b1b0e;
      font-weight: bold;
      font-size: 18px;
      transform: rotateY(180deg);
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      line-height: 1.4;
      padding: 20px;
    }
    /* é€‰ä¸­ç‰Œçš„é«˜äº®æ•ˆæœ */
    .card.selected .card-back {
      background: linear-gradient(135deg, #ffd166, #f5c07a);
      box-shadow: 0 0 20px rgba(255, 209, 102, 0.5);
      border: 2px solid #ffd166;
    }
    /* æœªé€‰ä¸­ç‰Œçš„æš—åŒ–æ•ˆæœ */
    .card:not(.selected).flipped .card-back {
      filter: brightness(0.7);
      opacity: 0.7;
    }
    .result {
      margin-top: 20px;
      padding: 20px;
      background: rgba(255, 255, 255, 0.08);
      border-radius: 15px;
      font-size: 16px;
      line-height: 1.7;
      min-height: 80px;
      text-align: left;
      border-left: 3px solid #e43f5a;
      backdrop-filter: blur(10px);
    }
    .result strong {
      color: #f5c07a;
      font-size: 18px;
    }
    .all-cards {
      margin-top: 15px;
      padding: 15px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      font-size: 14px;
      line-height: 1.5;
      text-align: left;
      max-height: 200px;
      overflow-y: auto;
    }
    .all-cards h3 {
      margin: 0 0 10px 0;
      font-size: 15px;
      color: #f5c07a;
    }
    .all-cards ul {
      margin: 0;
      padding-left: 20px;
    }
    .all-cards li {
      margin-bottom: 5px;
    }
    button {
      margin-top: 25px;
      padding: 14px 32px;
      border: none;
      border-radius: 25px;
      background: linear-gradient(90deg, #e43f5a, #ff6b6b);
      color: #fff;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 6px 15px rgba(228, 63, 90, 0.4);
      transition: all 0.3s ease;
      letter-spacing: 1px;
    }
    button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(228, 63, 90, 0.5);
    }
    button:active {
      transform: translateY(-1px);
    }
    @media (max-width: 480px) {
      .cards {
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
      }
      h1 {
        font-size: 24px;
      }
      .desc {
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>å¡”ç½—æŠ½ç‰Œ</h1>
    <div class="desc">è¯·åœ¨å¿ƒä¸­é»˜å¿µä½ çš„é—®é¢˜ï¼Œç„¶åé€‰æ‹©ä¸€å¼ ç‰Œ</div>

    <div class="cards">
      <div class="card">
        <div class="card-inner">
          <div class="card-front">ç‚¹å‡»æŠ½ç‰Œ</div>
          <div class="card-back"></div>
        </div>
      </div>
      <div class="card">
        <div class="card-inner">
          <div class="card-front">ç‚¹å‡»æŠ½ç‰Œ</div>
          <div class="card-back"></div>
        </div>
      </div>
      <div class="card">
        <div class="card-inner">
          <div class="card-front">ç‚¹å‡»æŠ½ç‰Œ</div>
          <div class="card-back"></div>
        </div>
      </div>
      <div class="card">
        <div class="card-inner">
          <div class="card-front">ç‚¹å‡»æŠ½ç‰Œ</div>
          <div class="card-back"></div>
        </div>
      </div>
      <div class="card">
        <div class="card-inner">
          <div class="card-front">ç‚¹å‡»æŠ½ç‰Œ</div>
          <div class="card-back"></div>
        </div>
      </div>
      <div class="card">
        <div class="card-inner">
          <div class="card-front">ç‚¹å‡»æŠ½ç‰Œ</div>
          <div class="card-back"></div>
        </div>
      </div>
      <div class="card">
        <div class="card-inner">
          <div class="card-front">ç‚¹å‡»æŠ½ç‰Œ</div>
          <div class="card-back"></div>
        </div>
      </div>
      <div class="card">
        <div class="card-inner">
          <div class="card-front">ç‚¹å‡»æŠ½ç‰Œ</div>
          <div class="card-back"></div>
        </div>
      </div>
    </div>

    <div class="result" id="result"></div>
    <div class="all-cards" id="allCards" style="display: none;">
      <h3>æ‰€æœ‰å¡ç‰Œå†…å®¹ï¼š</h3>
      <ul id="cardsList"></ul>
    </div>
    <button id="reset">é‡æ–°æŠ½ç‰Œ</button>
  </div>

  <script>
    const tarot = [
      { name: "æ„šè€…", text: "æ–°çš„å¼€å§‹ï¼Œè‡ªç”±ä¸å†’é™©ï¼Œé¡ºå…¶è‡ªç„¶ã€‚" },
      { name: "é­”æœ¯å¸ˆ", text: "è¡ŒåŠ¨åŠ›ä¸æŒæ§åŠ›ï¼Œäº‹æƒ…æ­£åœ¨ä½ çš„æŒæ§ä¸­ã€‚" },
      { name: "å¥³ç¥­å¸", text: "ç›´è§‰ã€æ½œæ„è¯†ï¼Œç­”æ¡ˆè—åœ¨å†…å¿ƒæ·±å¤„ã€‚" },
      { name: "çš‡å", text: "æ»‹å…»ã€å…³æ€€ï¼Œå…³ç³»æˆ–äº‹ä¸šæ­£åœ¨æˆé•¿ã€‚" },
      { name: "çš‡å¸", text: "ç§©åºã€è´£ä»»ï¼Œå»ºç«‹ç¨³å®šçš„åŸºç¡€ã€‚" },
      { name: "æ‹äºº", text: "é€‰æ‹©ä¸å…³ç³»ï¼Œè·Ÿéšå†…å¿ƒçš„çœŸå®æƒ³æ³•ã€‚" },
      { name: "æˆ˜è½¦", text: "å‰è¿›ä¸èƒœåˆ©ï¼ŒåšæŒå°†å¸¦æ¥æˆæœã€‚" },
      { name: "åŠ›é‡", text: "æ¸©æŸ”çš„åŠ›é‡ï¼Œè€å¿ƒä¸å‹‡æ°”å¹¶å­˜ã€‚" },
      { name: "éšè€…", text: "ç‹¬å¤„ä¸æ€è€ƒï¼Œå¯»æ‰¾å†…åœ¨çš„æŒ‡å¼•ã€‚" },
      { name: "å‘½è¿ä¹‹è½®", text: "å‘½è¿çš„è½¬æŠ˜ï¼Œå˜åŒ–æ˜¯ä¸å¯é¿å…çš„ã€‚" },
      { name: "æ­£ä¹‰", text: "å…¬å¹³ã€å¹³è¡¡ï¼Œå†³å®šå¸¦æ¥ç»“æœã€‚" },
      { name: "å€’åŠäºº", text: "æ¢ä½æ€è€ƒï¼Œç‰ºç‰²å¸¦æ¥æ–°çš„è§†è§’ã€‚" },
      { name: "æ­»ç¥", text: "ç»“æŸä¸æ–°ç”Ÿï¼Œæ”¾ä¸‹è¿‡å»è¿æ¥æœªæ¥ã€‚" },
      { name: "èŠ‚åˆ¶", text: "è°ƒå’Œã€ä¸­åº¸ï¼Œæ‰¾åˆ°å¹³è¡¡ç‚¹ã€‚" },
      { name: "æ¶é­”", text: "æ¬²æœ›ä¸æŸç¼šï¼Œçœ‹æ¸…è¡¨è±¡ä¸‹çš„çœŸç›¸ã€‚" },
      { name: "é«˜å¡”", text: "çªç„¶çš„å˜åŒ–ï¼Œæ‰“ç ´æ—§æœ‰ç»“æ„ã€‚" }
    ];

    const cards = document.querySelectorAll('.card');
    const result = document.getElementById('result');
    const allCardsDiv = document.getElementById('allCards');
    const cardsList = document.getElementById('cardsList');
    const resetBtn = document.getElementById('reset');

    let isRevealed = false;
    let currentDraw = [];
    let selectedCardIndex = -1;

    // ä¸ºæ¯å¼ å¡ç‰‡åˆ†é…ä¸€ä¸ªéšæœºçš„å¡”ç½—ç‰Œ
    function assignTarotCards() {
      currentDraw = [];
      const availableTarot = [...tarot];
      
      cards.forEach(card => {
        const randomIndex = Math.floor(Math.random() * availableTarot.length);
        const tarotCard = availableTarot[randomIndex];
        const backElement = card.querySelector('.card-back');
        backElement.textContent = tarotCard.name;
        backElement.setAttribute('data-text', tarotCard.text);
        
        // ä¿å­˜è¿™å¼ ç‰Œçš„ä¿¡æ¯
        currentDraw.push({
          name: tarotCard.name,
          text: tarotCard.text
        });
        
        // ç§»é™¤å·²é€‰ç‰Œï¼Œé¿å…é‡å¤
        availableTarot.splice(randomIndex, 1);
        
        // å¦‚æœç‰Œä¸å¤Ÿäº†ï¼Œé‡æ–°å¡«å……
        if (availableTarot.length === 0) {
          availableTarot.push(...tarot);
        }
      });
    }

    // æ˜¾ç¤ºæ‰€æœ‰å¡ç‰Œå†…å®¹
    function showAllCards() {
      cardsList.innerHTML = '';
      currentDraw.forEach((card, index) => {
        const li = document.createElement('li');
        if (index === selectedCardIndex) {
          li.innerHTML = `ğŸ¯ <strong style="color:#ffd166">${card.name}</strong>: ${card.text}`;
        } else {
          li.innerHTML = `<strong>${card.name}</strong>: ${card.text}`;
          li.style.opacity = '0.7';
        }
        cardsList.appendChild(li);
      });
      allCardsDiv.style.display = 'block';
    }

    // åˆå§‹åŒ–
    assignTarotCards();

    cards.forEach((card, index) => {
      card.addEventListener('click', () => {
        if (isRevealed) return;
        
        isRevealed = true;
        selectedCardIndex = index;
        
        // æ ‡è®°é€‰ä¸­çš„ç‰Œ
        card.classList.add('selected');
        
        // ç¿»è½¬æ‰€æœ‰å¡ç‰Œ
        cards.forEach(c => {
          c.classList.add('flipped');
        });
        
        // æ˜¾ç¤ºç»“æœ
        const backElement = card.querySelector('.card-back');
        const cardName = backElement.textContent;
        const cardText = backElement.getAttribute('data-text');
        result.innerHTML = `ä½ æŠ½åˆ°çš„æ˜¯ <strong style="color:#ffd166">${cardName}</strong><br>${cardText}`;
        
        // æ˜¾ç¤ºæ‰€æœ‰å¡ç‰Œå†…å®¹
        <!-- showAllCards(); -->
      });
    });

    resetBtn.addEventListener('click', () => {
      isRevealed = false;
      selectedCardIndex = -1;
      result.innerHTML = '';
      allCardsDiv.style.display = 'none';
      
      // ç§»é™¤æ‰€æœ‰ç‰¹æ®Šæ•ˆæœ
      cards.forEach(card => {
        card.classList.remove('flipped');
        card.classList.remove('selected');
      });
      
      // é‡æ–°åˆ†é…å¡”ç½—ç‰Œ
      setTimeout(() => {
        assignTarotCards();
      }, 300);
    });
  </script>
</body>
</html>